<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DuoGerman - ÂÖ®Êñπ‰ΩçÁâπË®ì</title>
    <style>
        :root {
            --duo-green: #58cc02;
            --duo-green-dark: #46a302;
            --duo-red: #ff4b4b;
            --duo-red-dark: #d42a2a;
            --duo-blue: #1cb0f6;
            --duo-blue-dark: #1480b3;
            --duo-gray: #e5e5e5;
            --duo-text: #4b4b4b;
            --bg: #fff;
        }

        body {
            font-family: "Nunito", "Segoe UI", "Microsoft JhengHei", sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 100vh;
            background-color: var(--bg);
            color: var(--duo-text);
            overflow: hidden;
        }

        /* Header & Progress */
        .header {
            width: 100%;
            max-width: 600px;
            padding: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
            box-sizing: border-box;
        }

        .progress-container {
            flex-grow: 1;
            height: 16px;
            background-color: var(--duo-gray);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background-color: var(--duo-green);
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 10px;
        }

        /* Game Area */
        .game-area {
            flex-grow: 1;
            width: 100%;
            max-width: 600px;
            padding: 0 20px;
            display: flex;
            flex-direction: column;
            overflow-y: auto; /* Allow scrolling for small screens */
            padding-bottom: 150px; /* Space for bottom sheet */
        }

        h2 {
            text-align: left;
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: #777;
        }

        .word-display {
            font-size: 2rem;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
            color: #3c3c3c;
            border: 2px solid #e5e5e5;
            padding: 15px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            background: white;
        }
        
        /* Sections */
        .section-label {
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1rem;
            color: var(--duo-text);
        }

        /* Grid Layouts */
        .article-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
        }

        .meaning-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-bottom: 20px;
        }

        /* Buttons */
        .option-btn {
            background: white;
            border: 2px solid var(--duo-gray);
            border-bottom-width: 4px;
            border-radius: 12px;
            padding: 12px;
            font-size: 1rem;
            color: var(--duo-text);
            cursor: pointer;
            transition: all 0.1s;
            text-align: center;
            user-select: none;
        }

        .option-btn:active { transform: translateY(2px); border-bottom-width: 2px; }
        
        /* Selected State */
        .option-btn.selected {
            background-color: #ddf4ff;
            border-color: var(--duo-blue);
            color: var(--duo-blue-dark);
        }

        /* Wrong/Correct States (for feedback) */
        .option-btn.correct-highlight {
            background-color: #d7ffb8 !important;
            border-color: var(--duo-green) !important;
            color: var(--duo-green-dark) !important;
        }
        
        .option-btn.wrong-highlight {
            background-color: #ffdfe0 !important;
            border-color: var(--duo-red) !important;
            color: var(--duo-red-dark) !important;
        }

        /* Bottom Sheet (Footer) */
        .bottom-sheet {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            padding: 20px;
            box-sizing: border-box;
            border-top: 2px solid #e5e5e5;
            background: white;
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .bottom-sheet.correct { background-color: #d7ffb8; border-color: transparent; color: var(--duo-green-dark); }
        .bottom-sheet.wrong { background-color: #ffdfe0; border-color: transparent; color: var(--duo-red-dark); }

        .feedback-content {
            width: 100%;
            max-width: 600px;
            display: none; /* Hidden by default */
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .check-btn {
            width: 100%;
            max-width: 600px;
            padding: 15px;
            border-radius: 15px;
            border: none;
            font-size: 1.1rem;
            font-weight: bold;
            text-transform: uppercase;
            cursor: pointer;
            color: white;
            background-color: var(--duo-green);
            box-shadow: 0 4px 0 var(--duo-green-dark);
            transition: background-color 0.2s;
        }

        .check-btn:disabled {
            background-color: #e5e5e5;
            color: #afafaf;
            box-shadow: none;
            cursor: not-allowed;
        }

        .bottom-sheet.wrong .check-btn {
            background-color: var(--duo-red);
            box-shadow: 0 4px 0 var(--duo-red-dark);
        }
        
        .bottom-sheet.correct .check-btn {
            background-color: var(--duo-green);
            box-shadow: 0 4px 0 var(--duo-green-dark);
        }

    </style>
</head>
<body>

    <div class="header">
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
    </div>

    <div class="game-area" id="game-area">
        </div>

    <div class="bottom-sheet" id="bottom-sheet">
        <div class="feedback-content" id="feedback-content">
            <div class="feedback-text">
                <div style="font-weight:bold; font-size:1.2rem;" id="feedback-title"></div>
                <div style="font-size:0.9rem;" id="feedback-detail"></div>
            </div>
            <div style="font-size: 40px;" id="feedback-icon"></div>
        </div>
        <button class="check-btn" id="check-btn" onclick="handleCheck()">Ê™¢Êü•</button>
    </div>

<script>
    // --- Data Source ---
    const vocabData = [
         // --- PAGE 1: Der ---
        { de: "Gegenstand", cn: "Áâ©‰ª∂", art: "der", type: "noun" },
        { de: "Preis", cn: "ÂÉπÊ†º", art: "der", type: "noun" },
        { de: "Bleistift", cn: "ÈâõÁ≠Ü", art: "der", type: "noun" },
        { de: "Computer", cn: "ÈõªËÖ¶", art: "der", type: "noun" },
        { de: "Drucker", cn: "Âç∞Ë°®Ê©ü", art: "der", type: "noun" },
        { de: "Fernseher", cn: "ÈõªË¶ñ", art: "der", type: "noun" },
        { de: "Herd", cn: "ÁàêÂ≠ê", art: "der", type: "noun" },
        { de: "Kuli", cn: "ÂéüÂ≠êÁ≠Ü", art: "der", type: "noun" },
        { de: "MP3-Player", cn: "MP3Êí≠ÊîæÂô®", art: "der", type: "noun" },
        { de: "Stuhl", cn: "Ê§ÖÂ≠ê", art: "der", type: "noun" },
        { de: "Tisch", cn: "Ê°åÂ≠ê", art: "der", type: "noun" },
        { de: "Wasserkocher", cn: "ÁÖÆÊ∞¥Âô®", art: "der", type: "noun" },
        { de: "K√§ufer", cn: "Ë≤∑Êñπ", art: "der", type: "noun" },
        { de: "Verk√§ufer", cn: "Ë≥£Êñπ", art: "der", type: "noun" },
        { de: "Kinderwagen", cn: "Â¨∞ÂÖíÊé®Ëªä", art: "der", type: "noun" },
        { de: "K√ºhlschrank", cn: "ÂÜ∞ÁÆ±", art: "der", type: "noun" },
        { de: "Staubsauger", cn: "Âê∏Â°µÂô®", art: "der", type: "noun" },
        { de: "Kunde", cn: "È°ßÂÆ¢", art: "der", type: "noun" },
        { de: "Schrank", cn: "Ê´ÉÂ≠ê", art: "der", type: "noun" },
        { de: "Morgen", cn: "Êó©Êô®", art: "der", type: "noun" },
        { de: "Pizza-Service", cn: "Êä´Ëñ©Â§ñÈÄÅ", art: "der", type: "noun" },
        { de: "Sohn", cn: "ÂÖíÂ≠ê", art: "der", type: "noun" },
        { de: "Tagesablauf", cn: "‰∏ÄÂ§©ÊµÅÁ®ã", art: "der", type: "noun" },
        { de: "Unterricht", cn: "Ë™≤Á®ã", art: "der", type: "noun" },
        { de: "Wortakzent", cn: "ÈáçÈü≥", art: "der", type: "noun" },
        { de: "Abend", cn: "Êôö‰∏ä", art: "der", type: "noun" },
        { de: "Mittag", cn: "‰∏≠Âçà", art: "der", type: "noun" },
        
        // --- PAGE 1: Die ---
        { de: "Kleinanzeige", cn: "ÂàÜÈ°ûÂ∞èÂª£Âëä", art: "die", type: "noun" },
        { de: "Lampe", cn: "Ááà", art: "die", type: "noun" },
        { de: "Schere", cn: "Ââ™ÂàÄ", art: "die", type: "noun" },
        { de: "Waschmaschine", cn: "Ê¥óË°£Ê©ü", art: "die", type: "noun" },
        { de: "Wortliste", cn: "ÂñÆÂ≠óË°®", art: "die", type: "noun" },
        { de: "K√§uferin", cn: "Â•≥Ë≤∑Êñπ", art: "die", type: "noun" },
        { de: "Verk√§uferin", cn: "Â•≥Ë≥£Êñπ", art: "die", type: "noun" },
        { de: "Tasche", cn: "ÂåÖÂåÖ", art: "die", type: "noun" },
        { de: "Ziffer", cn: "Êï∏Â≠ó", art: "die", type: "noun" },
        { de: "Uhr", cn: "Èêò/ÈªûÈêò", art: "die", type: "noun" },
        { de: "Arbeit", cn: "Â∑•‰Ωú", art: "die", type: "noun" },
        { de: "Kinderkrippe", cn: "ÊâòÂÖíÊâÄ", art: "die", type: "noun" },
        { de: "Minute", cn: "ÂàÜÈêò", art: "die", type: "noun" },
        { de: "Schule", cn: "Â≠∏Ê†°", art: "die", type: "noun" },
        { de: "Tageszeit", cn: "ÁôΩÂ§©ÊôÇÈñì", art: "die", type: "noun" },
        { de: "Tochter", cn: "Â•≥ÂÖí", art: "die", type: "noun" },
        { de: "Zeitung", cn: "Â†±Á¥ô", art: "die", type: "noun" },
        { de: "Mittagspause", cn: "Âçà‰ºë", art: "die", type: "noun" },
        { de: "B√§ckerei", cn: "È∫µÂåÖÂ∫ó", art: "die", type: "noun" },
        { de: "Bibliothek", cn: "ÂúñÊõ∏È§®", art: "die", type: "noun" },

        // --- PAGE 1: Das ---
        { de: "Verkaufsgespr√§ch", cn: "Èä∑ÂîÆË©±È°å", art: "das", type: "noun" },
        { de: "B√ºgeleisen", cn: "ÁÜ®Êñó", art: "das", type: "noun" },
        { de: "Heft", cn: "ÂÜäÂ≠ê/Á≠ÜË®òÊú¨", art: "das", type: "noun" },
        { de: "W√∂rterbuch", cn: "Â≠óÂÖ∏", art: "das", type: "noun" },
        { de: "Nomen", cn: "ÂêçË©û", art: "das", type: "noun" },
        { de: "Buch", cn: "Êõ∏", art: "das", type: "noun" },
        { de: "Fahrrad", cn: "ËÖ≥Ë∏èËªä", art: "das", type: "noun" },
        { de: "Haus", cn: "ÊàøÂ≠ê", art: "das", type: "noun" },
        { de: "Jahr", cn: "Âπ¥", art: "das", type: "noun" },
        { de: "Kind", cn: "Â∞èÂ≠©", art: "das", type: "noun" },
        { de: "Abendessen", cn: "ÊôöÈ§ê", art: "das", type: "noun" },
        { de: "Praktikum", cn: "ÂØ¶Áøí", art: "das", type: "noun" },
        { de: "Viertel", cn: "ÂõõÂàÜ‰πã‰∏Ä/‰∏ÄÂàª", art: "das", type: "noun" },
        { de: "Br√∂tchen", cn: "Â∞èÈ∫µÂåÖ", art: "das", type: "noun" },
        { de: "Kino", cn: "ÈõªÂΩ±Èô¢", art: "das", type: "noun" },
        { de: "Fernsehprogramm", cn: "ÈõªË¶ñÁØÄÁõÆ", art: "das", type: "noun" },
        { de: "Bier", cn: "Âï§ÈÖí", art: "das", pl: "-e", type: "noun" },
        { de: "Brot", cn: "È∫µÂåÖ", art: "das", pl: "-e", type: "noun" },
        { de: "Fleisch", cn: "ËÇâ", art: "das", pl: "Sg.", type: "noun" },
        { de: "Gem√ºse", cn: "Ëî¨Ëèú", art: "das", pl: "Sg.", type: "noun" },
        { de: "Obst", cn: "Ê∞¥Êûú", art: "das", pl: "Sg.", type: "noun" },
        { de: "Kochrezept", cn: "È£üË≠ú", art: "das", pl: "-e", type: "noun" },
        { de: "Ei", cn: "Ëõã", art: "das", pl: "-er", type: "noun" },

        // --- Additional Nouns ---
        { de: "Woche", cn: "ÈÄ±", art: "die", type: "noun" },
        { de: "Banane", cn: "È¶ôËïâ", art: "die", pl: "-n", type: "noun" },
        { de: "Dienstag", cn: "ÊòüÊúü‰∫å", art: "der", type: "noun" },
        { de: "Ehepaar", cn: "Â§´Â¶ª", art: "das", pl: "-e", type: "noun" },
        { de: "Wurst", cn: "È¶ôËÖ∏", art: "die", pl: "W√ºrste", type: "noun" },
        { de: "Kartoffel", cn: "È¶¨Èà¥ËñØ", art: "die", pl: "-n", type: "noun" },
        { de: "Farbe", cn: "È°èËâ≤", art: "die", pl: "-n", type: "noun" },
        { de: "Flasche", cn: "Áì∂Â≠ê", art: "die", pl: "-n", type: "noun" },
        { de: "Salz", cn: "ÈπΩ", art: "das", pl: "Sg.", type: "noun" },
        { de: "Nudel", cn: "È∫µ", art: "die", pl: "-n", type: "noun" },
        { de: "Pizza", cn: "Êä´Ëñ©", art: "die", pl: "-s", type: "noun" },
        { de: "Paprika", cn: "ÁîúÊ§í", art: "die", pl: "-s", type: "noun" },
        { de: "Apfel", cn: "ËòãÊûú", art: "der", pl: "√Ñpfel", type: "noun" },
        { de: "Familie", cn: "ÂÆ∂Â∫≠", art: "die", pl: "-n", type: "noun" },
        { de: "K√§se", cn: "‰π≥ÈÖ™", art: "der", pl: "Sg.", type: "noun" },
        { de: "Marmelade", cn: "ÊûúÈÜ¨", art: "die", pl: "-n", type: "noun" },
        { de: "Kuchen", cn: "ËõãÁ≥ï", art: "der", pl: "-", type: "noun" },
        { de: "Salat", cn: "Ê≤ôÊãâ", art: "der", pl: "-e", type: "noun" },
        { de: "Zitrone", cn: "Ê™∏Ê™¨", art: "die", pl: "-n", type: "noun" },
        { de: "Schinken", cn: "ÁÅ´ËÖø", art: "der", pl: "-", type: "noun" },
        { de: "Zwiebel", cn: "Ê¥ãËî•", art: "die", pl: "-n", type: "noun" },
        { de: "Reis", cn: "Á±≥", art: "der", pl: "Sg.", type: "noun" },
        { de: "Wein", cn: "Ëë°ËêÑÈÖí", art: "der", pl: "-e", type: "noun" },
        { de: "Apfelsaft", cn: "ËòãÊûúÊ±Å", art: "der", pl: "-e", type: "noun" },

        // --- Other Words ---
        { de: "beschreiben", cn: "ÊèèËø∞", type: "other" },
        { de: "billig", cn: "‰æøÂÆú", type: "other" },
        { de: "teuer", cn: "Ë≤¥", type: "other" },
        { de: "kaputt", cn: "Â£û‰∫Ü", type: "other" },
        { de: "klein", cn: "Â∞è", type: "other" },
        { de: "neu", cn: "Êñ∞", type: "other" },
        { de: "blau", cn: "ËóçËâ≤", type: "other" },
        { de: "rot", cn: "Á¥ÖËâ≤", type: "other" },
        { de: "gr√ºn", cn: "Á∂†Ëâ≤", type: "other" },
        { de: "essen", cn: "ÂêÉ", type: "other" },
        { de: "schauen", cn: "Áúã", type: "other" },
        { de: "kochen", cn: "ÁÖÆÈ£Ø", type: "other" }
    ];

    // --- Audio ---
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    function playSound(type) {
        if (audioCtx.state === 'suspended') audioCtx.resume();
        const osc = audioCtx.createOscillator();
        const gainNode = audioCtx.createGain();
        osc.connect(gainNode);
        gainNode.connect(audioCtx.destination);

        if (type === 'correct') {
            osc.type = 'sine';
            osc.frequency.setValueAtTime(500, audioCtx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(1000, audioCtx.currentTime + 0.1);
            gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
            gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
            osc.start();
            osc.stop(audioCtx.currentTime + 0.5);
        } else if (type === 'wrong') {
            osc.type = 'sawtooth';
            osc.frequency.setValueAtTime(150, audioCtx.currentTime);
            osc.frequency.linearRampToValueAtTime(100, audioCtx.currentTime + 0.3);
            gainNode.gain.setValueAtTime(0.3, audioCtx.currentTime);
            gainNode.gain.linearRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
            osc.start();
            osc.stop(audioCtx.currentTime + 0.3);
        }
    }

    // --- Game Logic ---
    let shuffledVocab = [];
    let currentIndex = 0;
    let currentItem = null;
    let userSelection = { art: null, cn: null }; // Tracks selection
    let isChecked = false;

    function shuffle(array) { return array.sort(() => Math.random() - 0.5); }

    function initGame() {
        shuffledVocab = shuffle([...vocabData]);
        currentIndex = 0;
        loadCard();
    }

    function loadCard() {
        if (currentIndex >= shuffledVocab.length) {
            alert("ÊÅ≠ÂñúÂÆåÊàêÊâÄÊúâÂñÆÂ≠óÔºÅ");
            initGame();
            return;
        }

        currentItem = shuffledVocab[currentIndex];
        isChecked = false;
        userSelection = { art: null, cn: null };
        
        // Auto-fill article selection if it's not a noun (to skip that logic)
        if (currentItem.type !== 'noun') {
            userSelection.art = 'skip';
        }

        // Update UI
        document.getElementById('progress-bar').style.width = `${(currentIndex / shuffledVocab.length) * 100}%`;
        updateCheckButton();
        resetBottomSheet();
        renderGameArea();
    }

    function resetBottomSheet() {
        const sheet = document.getElementById('bottom-sheet');
        const feedback = document.getElementById('feedback-content');
        const checkBtn = document.getElementById('check-btn');
        
        sheet.className = 'bottom-sheet';
        feedback.style.display = 'none';
        checkBtn.textContent = 'Ê™¢Êü•';
        checkBtn.style.display = 'block';
    }

    function renderGameArea() {
        const container = document.getElementById('game-area');
        container.innerHTML = '';

        // 1. Title & Word
        const h2 = document.createElement('h2');
        h2.textContent = currentItem.type === 'noun' ? "ÈÅ∏ÊìáÊ≠£Á¢∫ÁöÑ ÂÜ†Ë©û Ëàá ÊÑèÊÄù" : "ÈÅ∏ÊìáÊ≠£Á¢∫ÁöÑÊÑèÊÄù";
        container.appendChild(h2);

        const wordBox = document.createElement('div');
        wordBox.className = 'word-display';
        wordBox.innerHTML = currentItem.de;
        container.appendChild(wordBox);

        // 2. Article Section (Only for Nouns)
        if (currentItem.type === 'noun') {
            const artLabel = document.createElement('div');
            artLabel.className = 'section-label';
            artLabel.textContent = "1. Ë©ûÊÄß (Artikel)";
            container.appendChild(artLabel);

            const artGrid = document.createElement('div');
            artGrid.className = 'article-grid';
            ['der', 'die', 'das'].forEach(art => {
                const btn = document.createElement('div');
                btn.className = 'option-btn art-opt';
                btn.textContent = art.charAt(0).toUpperCase() + art.slice(1);
                btn.dataset.value = art;
                btn.onclick = () => selectArticle(art, btn);
                artGrid.appendChild(btn);
            });
            container.appendChild(artGrid);
        }

        // 3. Meaning Section
        const meanLabel = document.createElement('div');
        meanLabel.className = 'section-label';
        meanLabel.textContent = currentItem.type === 'noun' ? "2. ÊÑèÊÄù (Bedeutung)" : "ÊÑèÊÄù (Bedeutung)";
        container.appendChild(meanLabel);

        // Generate choices (1 correct + 3 wrong)
        let choices = [currentItem.cn];
        const distractors = vocabData.filter(i => i.cn !== currentItem.cn);
        shuffle(distractors).slice(0, 3).forEach(d => choices.push(d.cn));
        choices = shuffle(choices);

        const meanGrid = document.createElement('div');
        meanGrid.className = 'meaning-grid';
        choices.forEach(choice => {
            const btn = document.createElement('div');
            btn.className = 'option-btn mean-opt';
            btn.textContent = choice;
            btn.dataset.value = choice;
            btn.onclick = () => selectMeaning(choice, btn);
            meanGrid.appendChild(btn);
        });
        container.appendChild(meanGrid);
    }

    // --- Selection Logic ---
    function selectArticle(val, btn) {
        if (isChecked) return;
        userSelection.art = val;
        // Visual update
        document.querySelectorAll('.art-opt').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        updateCheckButton();
    }

    function selectMeaning(val, btn) {
        if (isChecked) return;
        userSelection.cn = val;
        // Visual update
        document.querySelectorAll('.mean-opt').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        updateCheckButton();
    }

    function updateCheckButton() {
        const btn = document.getElementById('check-btn');
        // Enable only if both selected (or article skipped for non-nouns)
        if (userSelection.art && userSelection.cn) {
            btn.disabled = false;
        } else {
            btn.disabled = true;
        }
    }

    // --- Validation Logic ---
    function handleCheck() {
        const btn = document.getElementById('check-btn');
        
        if (isChecked) {
            // "Continue" mode -> Next card
            currentIndex++;
            loadCard();
            return;
        }

        isChecked = true;
        const sheet = document.getElementById('bottom-sheet');
        const fbContent = document.getElementById('feedback-content');
        const fbTitle = document.getElementById('feedback-title');
        const fbDetail = document.getElementById('feedback-detail');
        const fbIcon = document.getElementById('feedback-icon');

        // Check Logic
        const isArtCorrect = (currentItem.type !== 'noun') || (userSelection.art === currentItem.art);
        const isMeanCorrect = (userSelection.cn === currentItem.cn);
        const isAllCorrect = isArtCorrect && isMeanCorrect;

        fbContent.style.display = 'flex';
        btn.textContent = 'ÁπºÁ∫å';

        // Highlight Buttons
        if (currentItem.type === 'noun') {
            // Highlight Article buttons
            document.querySelectorAll('.art-opt').forEach(b => {
                if (b.dataset.value === currentItem.art) b.classList.add('correct-highlight'); // Show answer
                if (b.classList.contains('selected') && !isArtCorrect) b.classList.add('wrong-highlight');
            });
        }
        // Highlight Meaning buttons
        document.querySelectorAll('.mean-opt').forEach(b => {
            if (b.dataset.value === currentItem.cn) b.classList.add('correct-highlight');
            if (b.classList.contains('selected') && !isMeanCorrect) b.classList.add('wrong-highlight');
        });

        // Bottom Sheet Feedback
        if (isAllCorrect) {
            playSound('correct');
            sheet.className = 'bottom-sheet correct';
            fbTitle.textContent = "Â§™Ê£í‰∫ÜÔºÅÂÖ®Â∞çÔºÅ";
            fbIcon.textContent = "üéâ";
        } else {
            playSound('wrong');
            sheet.className = 'bottom-sheet wrong';
            fbTitle.textContent = "ÂÜçÊé•ÂÜçÂé≤ÔºÅ";
            fbIcon.textContent = "üíî";
        }

        // Detail text
        let fullText = "";
        if (currentItem.type === 'noun') {
            fullText = `${currentItem.art.toUpperCase()} ${currentItem.de} = ${currentItem.cn}`;
            if (currentItem.pl) fullText += ` (Ë§áÊï∏: ${currentItem.pl})`;
        } else {
            fullText = `${currentItem.de} = ${currentItem.cn}`;
        }
        fbDetail.textContent = fullText;
    }

    // Start
    initGame();

</script>
</body>
</html>
